<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#div2 {
				border-radius: 4px;
				background: red;
				height: 20px;
				width: 10px;
				position: absolute;
			}
			
			#div1 {
				position: relative;
				float: left;
				border: 1px solid black;
				height: 500px;
				width: 10px;
			}
			
			#box {
				width: 150px;
				height: 500px;
				border: 2px solid red;
				float: left;
				position: relative;
				overflow: hidden;
			}
			
			#content {
				position: absolute;
			}
		</style>
	</head>

	<body>
		<div id="div1">
			<div id="div2">
			</div>
		</div>
		<div id="box">
			<div id="content">
				妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。妙味课堂是北京妙味趣学信息技术有限公司旗下的IT前端培训品牌， 妙味课堂是一支独具特色的IT培训团队，妙味反对传统IT教育枯燥乏味的教学模式，妙味提供一种全新的快乐学习方法！ 目前主要针对的是javascript培训，同时还提供了css教程、javascript视频、js特效等，最新推出了外地学员们喜欢的javascript网络课程服务，同时还为处于javascript入门阶段的朋友录制了大量javascript视频，其中涉及了大量javascript基础知识，希望妙味课堂推出的javascript网络培训课程能带给大家更多惊喜。
			</div>
		</div>
		<script type="text/javascript">
			var div1 = document.getElementsByTagName('div')[0];
			var div2 = document.getElementsByTagName('div')[1];
			var box = document.getElementById('box');
			var content = document.getElementById('content');
			var maxY = div1.offsetHeight - div2.offsetHeight;
			var innerY = box.offsetHeight - content.offsetHeight;
			div2.onmousedown = function(ev) {
				var disy = ev.clientY - getPos(this).top;
				document.onmousemove = function(ev) {
					var y = ev.clientY - disy;
					if(y < 0) {
						y = 0;
					}
					if(y > maxY) {
						y = maxY;
					}
					//求滑动条的比值
					var scale = y / maxY

					div2.style.top = y + 'px';
					content.style.top = scale * innerY + 'px';
				}
				document.onmouseup = function() {
					this.onmousemove = null;
				}

			}

			function getPos(obj) {
				return obj.getBoundingClientRect()
			}
			mScroll(document,function(){
				
			},function(){
				console.log('向下滚动');
			});
			//滚轮事件
			function mScroll(obj,upper,down){
				obj.addEventListener('DOMMouseScroll', fn, false);
				obj.onmousewheel  = fn;
		
				function fn(ev){
					var n;
					/*
						负数代表向下
						正数是向上
						n就是这个数字
					*/
					if(ev.detail){
						//firefox
						n = -ev.detail;
					}else{
						//ie和chrome
						n = ev.wheelDelta;
					}
					//n小于0向下滚动，否则向上。
					if(n<0){
						down();
					}else{
						upper();
					}
				}
			}
		</script>
	</body>

</html>